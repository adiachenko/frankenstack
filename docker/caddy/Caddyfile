{
    frankenphp {
        {$FRANKENPHP_WORKER_CONFIG}
    }

    servers {
        timeouts {
            read_body {$CADDY_READ_TIMEOUT:65s}
            write {$CADDY_WRITE_TIMEOUT:70s}
        }
    }

    {$CADDY_AUTO_HTTPS_DIRECTIVE}
    {$CADDY_ACME_EMAIL_DIRECTIVE}
    {$CADDY_GLOBAL_OPTIONS}
}

{$CADDY_EXTRA_CONFIG}

{$SERVER_NAME} {
    root * {$SERVER_ROOT:/opt/project/public}
    encode zstd br gzip

    {$CADDY_SERVER_EXTRA_DIRECTIVES}
    {$CADDY_TLS_DIRECTIVE}

    php_server {
        {$PHP_SERVER_CONFIG}
    }
}
